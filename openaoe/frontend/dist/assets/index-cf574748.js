import{c as ce,p as ie,S as l,a as We,b as Ke,d as Ve,e as pe,f as _e,j as Je,g as fe,v as xe,h as ve,t as Ye,i as Fe,l as Ge,s as Xe,k as Qe,m as Ze,r as et,o as Ae,n as tt,q as st,u as ot,w as at,x as nt,y as rt,z as ct,A as it,B as ye,C as lt,D as mt,E as dt,F as we,G as ut,H as n,I as gt,J as ht,K as pt,L as oe,M as I,N as _t,O as ft,P as xt,T as G,Q as ae,R as vt,U as At,V as yt,W as wt,X as bt,Y as kt,Z as Ct,_ as St,$ as Lt,a0 as jt,a1 as Rt}from"./vendor-0b33134f.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}})();const ne="clear_context",z="serial",V="parallel",$="serial_session",It=3,R="gpt-3.5-turbo",je="openai",Et="https://oss.openmmlab.com/alles-bot/",Mt=["openai","minimax","claude","gpt-4","internlm"],E=ce()(ie((e,t)=>({token:"",theme:"light",username:"user",mode:z,updateTheme:s=>{e({theme:s})},updateMode:s=>{e({mode:s})}}),{name:"config",version:2,migrate(e,t){const a=JSON.parse(JSON.stringify(e));return t<2&&(a.token={}.VITE_ALLES_APIN_TOKEN,a.theme="light",a.username="user",a.mode=z),a}})),Bt=({children:e,inline:t,className:s,...a})=>{const o=/language-(\w+)/.exec(s||"")||[],r=E();return l.registerLanguage("assembly",We),l.registerLanguage("python",Ke),l.registerLanguage("c",Ve),l.registerLanguage("c/c++",pe),l.registerLanguage("clike",pe),l.registerLanguage("c++",_e),l.registerLanguage("cpp",_e),l.registerLanguage("java",Je),l.registerLanguage("csharp",fe),l.registerLanguage("c#",fe),l.registerLanguage("vb",xe),l.registerLanguage("visual basic",xe),l.registerLanguage("javascript",ve),l.registerLanguage("typescript",Ye),l.registerLanguage("css",Fe),l.registerLanguage("less",Ge),l.registerLanguage("js",ve),l.registerLanguage("sql",Xe),l.registerLanguage("php",Qe),l.registerLanguage("go",Ze),l.registerLanguage("r",et),l.registerLanguage("objective-c",Ae),l.registerLanguage("objc",Ae),l.registerLanguage("matlab",tt),l.registerLanguage("swift",st),l.registerLanguage("ruby",ot),l.registerLanguage("lua",at),l.registerLanguage("json",nt),l.registerLanguage("yaml",rt),l.registerLanguage("xml",ct),l.registerLanguage("dDockerfile",it),l.registerLanguage("markdown",ye),l.registerLanguage("md",ye),l.registerLanguage("makefile",lt),l.registerLanguage("latex",mt),l.registerLanguage("llvm",dt),l.registerLanguage("shell",we),l.registerLanguage("sh",we),l.registerLanguage("bash",ut),!t&&o?n.jsx(l,{language:(o[1]||"Python").toLowerCase(),style:r.theme==="light"?gt:ht,customStyle:{borderRadius:"10px"},PreTag:"div",...a,children:e}):n.jsx("code",{className:s,...a,children:e})},Nt=React.memo(Bt),le=(...e)=>{const t=e.map(s=>typeof s=="function"?s:()=>s);return(...s)=>{let a=0,o;for(o=t.length===0?s:t[a++](...s);a<t.length;)o=t[a++](o);return o}},re="locale",Tt=()=>{const e=window.localStorage.getItem(re);return e?e==="en-US"?"en-US":"zh-CN":(localStorage.setItem(re,"en-US"),"en-US")};let Re=Tt();const Ot=e=>(window.localStorage.setItem(re,e),e),J=()=>Re,Pt=e=>{Re=Ot(e)},be=e=>{const t=document.cookie.split(";");for(let s=0;s<t.length;s++)if(t[s].split("=")[0].trim()===e){const o=new Date;o.setTime(o.getTime()-60),document.cookie=`${t[s]};expires=${o.toUTCString()};path=/;domain=${{}.VITE_COOKIE_DOMAIN}`;break}},Ie={tokenKey:"x_token",cookieTokenKey:"uaa-token",getFromCookie(){return pt.get(this.cookieTokenKey)},storage(e){return e==null?(localStorage.removeItem(this.tokenKey),!1):(localStorage.setItem(this.tokenKey,e),!0)},update(e){localStorage.getItem(this.tokenKey)!==e&&this.storage(e)},get(){const e=this.getFromCookie();return this.update(e),e||localStorage.getItem(this.tokenKey)},has(){return!!this.get()},removeAll(){be(this.cookieTokenKey),be("ssouid"),localStorage.removeItem(this.tokenKey)}},Ut=()=>"/login";function Ht(e,t=50){let s=null;return(...a)=>{s?clearTimeout(s):e.apply(this,a),s=setTimeout(()=>{e.apply(this,a)},t)}}const Ee=e=>{const t=document.getElementById(e);t&&t.scrollTo({top:999999,behavior:"smooth"})},W=Ht(e=>Ee(e),50),B=(e,t=null)=>oe?{onTouchEnd:t||e}:{onClick:e||t},zt=e=>{if(e===null)return 0;const t=window.getSelection();if(t.rangeCount>0){const s=t.getRangeAt(0),a=s.cloneRange();return a.selectNodeContents(e),a.setEnd(s.startContainer,s.startOffset),a.toString().length}return 0};function $t(e,t){let s=0;const a=document.createRange();a.setStart(e,0);function o(c){for(let u=0;u<c.childNodes.length;u++){const f=c.childNodes[u];if(f.nodeType===Node.TEXT_NODE){if(s+f.length>=t)return a.setStart(f,t-s),a.collapse(!0),!0;s+=f.length}else if(o(f))return!0}}o(e);const r=window.getSelection();r.removeAllRanges(),r.addRange(a)}const Dt=""+new URL("A-017dd65e.svg",import.meta.url).href,ke={provider:"user",model:"user",avatar:"user.png",border:"#71e875",background:"#71e875"},qt={provider:"admin",model:"admin",avatar:Dt,border:"#4e6ef2",background:"linear-gradient(rgb(255 255 255 / 80%) 0%, rgb(168 245 179) 100%)"},Wt={"internlm-chat-7b":{provider:"internlm",webui:{avatar:"https://oss.openmmlab.com/frontend/OpenAOE/internlm.svg",background:"linear-gradient(rgb(3 26 108 / 85%) 0%, rgb(29 60 161 / 85%) 100%)"}},"gpt-3.5-turbo":{provider:"openai",webui:{avatar:"https://oss.openmmlab.com/frontend/OpenAOE/openai.svg",background:"linear-gradient(180deg, rgba(156, 206, 116, 0.15) 0%, #1a8d15 100%)"}},"gpt-4":{provider:"openai",webui:{avatar:"https://oss.openmmlab.com/frontend/OpenAOE/openai.svg",background:"linear-gradient(180deg, rgba(156, 206, 116, 0.15) 0%, #08be00 100%)"}},"claude-1":{provider:"claude",webui:{avatar:"https://oss.openmmlab.com/frontend/OpenAOE/claude.svg",background:"linear-gradient(180deg, rgba(141, 90, 181, 0.15) 0%, rgba(106, 39, 123, 0.7) 53.12%, #663E9A 100%)"}},"claude-1-100k":{provider:"claude",webui:{avatar:"https://oss.openmmlab.com/frontend/OpenAOE/claude.svg",background:"linear-gradient(180deg, rgba(141, 90, 181, 0.15) 0%, rgba(106, 39, 123, 0.7) 53.12%, #663E9A 100%)"}},"chat-bison-001":{provider:"google",webui:{avatar:"https://oss.openmmlab.com/frontend/OpenAOE/google-palm.webp",isStream:!1,background:"linear-gradient(180deg, rgba(181, 90, 90, 0.15) 0%, #fa5ab1 100%)"}},"abab5-chat":{provider:"minimax",webui:{avatar:"https://oss.openmmlab.com/frontend/OpenAOE/minimax.png",background:"linear-gradient(180deg, rgba(207, 72, 72, 0.15) 0%, rgba(151, 43, 43, 0.7) 53.12%, #742828 100%)"}},spark:{provider:"spark",webui:{avatar:"https://oss.openmmlab.com/frontend/OpenAOE/spark.svg",isStream:!1,background:"linear-gradient(180deg, rgba(72, 72, 207, 0.15) 0%, #7498be 100%)"}}},Kt={models:null},D=React.createContext(Kt),Vt="_home-operation_16zek_1",Jt="_op-btn_16zek_14",Yt="_op-img_16zek_25",P={"home-operation":"_home-operation_16zek_1",homeOperation:Vt,"op-btn":"_op-btn_16zek_14",opBtn:Jt,"op-img":"_op-img_16zek_25",opImg:Yt},Ft={model:"abab5-chat",prompt:"",messages:[],role_meta:{user_name:"USER",bot_name:"BOT"},stream:!0,type:"json"},Gt={model:"gpt-3.5-turbo",prompt:"",messages:[],role_meta:{user_name:"user",bot_name:"assistant"},type:"json"},Xt={model:"chat-bison-001",prompt:{messages:[]},temperature:.1,candidate_count:1},Qt={prompt:"",model:"claude-1",max_tokens:5e3},Zt={parameter:{chat:{temperature:.5,max_tokens:1024,chat_id:"user1"}},payload:{message:{text:[]}}},es={model:"internlm-chat-7b",prompt:"",messages:[],role_meta:{user_name:"user",bot_name:"assistant"},stream:!0},q="",k=new Map;k.set("minimax",{url:`${q}/v1/minimax/v1/text/chat-stream`,...Ft});k.set("openai",{url:`${q}/v1/openai/v1/text/chat-stream`,...Gt});k.set("google",{url:`${q}/v1/google/v1/palm/chat`,...Xt});k.set("claude",{url:`${q}/v1/claude/v1/text/chat-stream`,...Qt});k.set("spark",{url:`${q}/v1/xunfei/v1/spark/chat`,...Zt});k.set("internlm",{url:`${q}/v1/internlm/v1/chat/completions`,...es});const Me=()=>({"Content-Type":"application/json"}),ts=e=>{var t;return((t=k.get(e))==null?void 0:t.url)||k.get(je).url},Ce=(e,t,s,a)=>{const o={...k.get(e)||k.get(je)};if(delete o.url,o.model=t,["openai","internlm","gpt-4"].includes(e)&&(o.prompt=s,o.messages=a),e==="minimax"&&(o.prompt=s,o.messages=a.map(r=>({text:r.text,sender_type:r.sender_type==="user"?"USER":"BOT"})),o.messages.push({text:s,sender_type:"USER"})),e==="google"){const r={content:"Hi! How can I help you today?",author:"1"},c=a.map(u=>({content:u.text,author:u.sender_type==="user"?"0":"1"}));c.push({content:s,author:"0"}),c.unshift(r),o.prompt.messages=c}if(e==="baidu"||e==="claude"){const r=a.map(c=>({role:c.sender_type,content:c.text}));r.push({role:"user",content:s}),o.messages=r}if(e==="spark"){const r=a.map(c=>({role:c.sender_type,content:c.text}));r.push({role:"user",content:s}),delete o.model,o.payload.message.text=r}return o},ss={development:"",staging:"",production:""},os={mock:"",development:"",staging:"",production:""},Be="production",as=ss[Be],ns=os[Be],rs=[],cs=e=>{const t={};return rs.find(a=>e.url.endsWith(a))||Ie.get(),{...e,headers:{lang:J(),...e.headers,...t}}},is=e=>({...e,headers:{...e.headers,"Client-Type":"app",type:0}}),ls=[cs,is],Ne=()=>{Ie.removeAll()},ms=e=>{const t=e.data;return e.__meta.isAllResponseBody?t:t.data},ds=e=>{const t=e.data,a=!e.__meta.isIgnoreError;return t.success===!1&&a&&I.error(t.msg),e},us=e=>{const t=e.data;return t&&t.msgCode==="A0202"&&Ne(),e},gs=e=>{const t=e.data;return t&&t.msgCode==="C1600"&&(window.location.href=Ut()),e},ee=(e,t=!1)=>{t||I.error(e)},hs=e=>{if(e.response){const s=e.__meta.isIgnoreGatewayError,a=e.response.status;switch(console.log(e.code,"error....."),a){case 401:case 403:Ne();break;case 500:ee(J()==="zh-CN"?"服务器没有响应，请稍后再试":"Sever error, please try again later.",s);break;default:e.code==="ERR_NETWORK"?ee(J()==="zh-CN"?"网络出错了，请稍后再试":"Network error, please try again later.",s):ee(`${a}: ${e.message||"unknown error"}`,s)}}return Promise.reject(e)},Te=[us,gs,ds,ms],Oe=[hs],H=_t.create({method:"get",timeout:6e4,responseType:"json",paramsSerializer:e=>ft.stringify(e,{indices:!1})}),N=new Map,ps=e=>{let t={};return N.has(e.config.url)&&(t=N.get(e.config.url),N.delete(e.config.url)),{...e,__meta:t}},_s=e=>{let t={};return N.has(e.config.url)&&(t=N.get(e.config.url),N.delete(e.config.url)),{...e,__meta:t}};Te.unshift(ps);Oe.unshift(_s);const fs=le(...ls),xs=le(...Te),vs=le(...Oe);H.interceptors.request.use(fs,e=>Promise.reject(e));H.interceptors.response.use(xs,vs);const As=(e,{method:t="GET",params:s={},data:a={},...o})=>{const r=`${as}${e}`;switch(t.toLowerCase()){case"get":return H.get(r,{params:s,...o});case"delete":return H.delete(r,{params:s,data:a,...o});case"post":return H.post(r,a,{params:s,...o});case"put":return H.put(r,a,{params:s,...o});default:return Promise.resolve({then:c=>c({msgCode:"300",msg:"Method Not Allowed",traceId:"-1",total:0,status:405,data:{}})})}},ys=(e,t={},s=ns)=>{const o=`${s}/${e}`.replace(/\/\//g,"/");return t.meta&&(N.set(o,t.meta),delete t.meta),As(o,t)};async function ws(e,t,s){const a=Me();return ys(e,{method:"POST",headers:{...a},data:t,signal:s,meta:{isAllResponseBody:!0}})}function j(e){return{id:Date.now(),provider:"openai",date:new Date().toLocaleString(),sender_type:"user",text:"",...e}}function U(e){return{id:Date.now()+Math.random(),name:R,bot:"",messages:[],isShow:!0,clearContextIndex:0,...e}}const X=ce()(ie((e,t)=>({hasStreaming:!1,sessions:[U({name:$}),U({name:R})],currentSessionIndex:0,globalId:0,controller:{},newSession(s){const a=t().sessions,o=a.findIndex(c=>c.name===s);if(o>0){t().updateSession(o,{isShow:!0});return}const r=U({name:s,isShow:!0});e(()=>({globalId:t().globalId+1})),r.id=t().globalId,a.push(r),e(()=>({sessions:a}))},removeSession(s){const o=t().sessions.findIndex(r=>r.name===s);o&&t().updateSession(o,{isShow:!1})},getSession(s){const a=t().sessions,o=a.findIndex(r=>r.name===s);return o<0?U({name:s}):a[o]},onNewMessage(s,a=0){t().sessions[a].messages.push(s),console.log("[BOT] onNewMessage: ",s,a),e(()=>({sessions:t().sessions}))},deleteMessage(s,a){const o=t().sessions.find(r=>r.name===s);o&&(o.messages.splice(a,1),e(()=>({sessions:t().sessions})))},retry(s,a,o){const r=t().lastUserMessage(s).text;t().lastMessage(s).id===t().lastBotMessage(s).id&&t().getSession(s).clearContextIndex!==t().getSession(s).messages.length&&(t().deleteMessage(s,t().getSession(s).messages.length-1),t().deleteMessage(s,t().getSession(s).messages.length-1)),t().onUserInput(r,a,o,s)},async onUserInput(s,a,o,r){var Y;const c=t().sessions.findIndex(m=>m.name===r),u=t().sessions[c];if(!u)return;const f=u.clearContextIndex||0,y=u.messages.slice(f).filter(m=>m.isError!==!0).map(m=>({text:m.text,sender_type:m.sender_type})),g=u.messages.length+1,_=j({text:s,provider:"user",sender_type:"user"}),i=j({provider:a,model:o,text:"...",sender_type:"bot",id:_.id+1,stream:!0});t().onNewMessage(_,c),t().onNewMessage(i,c),W(`chat-wrapper-${u.id}`);const v=new AbortController,A=t().controller;A[r]=v,e(()=>({controller:{...A}}));const M={method:"POST",headers:Me(),body:JSON.stringify({...Ce(a,o,s,y)})},C=ts(a);let T=!0;if(Mt.includes(a))xt(C,{...M,signal:v.signal,async onopen(m){const d=m.headers.get("content-type");if(d!=null&&d.includes("text/event-stream")||(T=!1),!m.ok)throw new Error(m.status+m.statusText)},onmessage:m=>{if(T&&typeof m.data=="string"&&m.data.charAt(0)==="{"){const d=JSON.parse(m.data);if(d&&d.success==="true"){if(d.stop_reason==="max_token"){i.stream=!1,t().updateMessage(c,g,w=>{w.stream=!1,w.text=i.text.concat(`
 > ${d.stop_reason}`)});return}i.stream=!0,i.text=i.text.startsWith("...")?i.text.slice(3).concat(d.msg):i.text.concat(d.msg),W(`chat-wrapper-${u.id}`),t().updateMessage(c,g,w=>{w.text=i.text,w.stream=i.stream})}if(d&&d.success==="false")throw new Error(d.msg)}},onerror(m){console.log(`[BOT] request error from ${o}: 
`,m),i.stream=!1,t().updateMessage(c,g,w=>{w.stream=i.stream,w.text=m.message.includes("Please reduce the length of the messages.")?m.message:`${i.text}
 > Oops... Something went wrong (°⌓°)`,w.isError=!0});const d=t().controller;throw delete d[r],e(()=>({controller:{...d}})),m},onclose(){i.stream=!1,t().updateMessage(c,g,d=>{d.stream=i.stream});const m=t().controller;delete m[r],e(()=>({controller:{...m}})),console.log("[BOT] answering closed. ")}});else try{const m=await ws(C,Ce(a,o,s,y),v.signal);if(m.msgCode==="10000"&&m.data){if(a==="google"){if(!m.data.candidates&&m.data.filters){i.stream=!1,t().updateMessage(c,g,d=>{d.stream=i.stream,d.text=`${i.text}
 > Oops... Something went wrong (°⌓°)`,d.isError=!0});return}i.text=(Y=m.data.candidates[0])==null?void 0:Y.content}else a==="claude"?i.text=m.data.completion:i.text=m.data;i.stream=!1,t().updateMessage(c,g,d=>{d.text=i.text,d.stream=i.stream}),W(`chat-wrapper-${u.id}`)}else i.stream=!1,t().updateMessage(c,g,d=>{d.stream=i.stream,d.text=`${i.text}
 > Oops... Something went wrong (°⌓°)`,d.isError=!0})}catch{t().updateMessage(c,g,d=>{d.stream=!1,d.text=`${i.text}
 > Oops... Something went wrong (°⌓°)`,d.isError=!0})}finally{const m=t().controller;delete m[r],e(()=>({controller:{...m}}))}},updateMessage(s,a,o){const c=t().sessions[s].messages[a];c.date=new Date().toLocaleString(),o(c),e(()=>({sessions:t().sessions}))},lastMessage(s){const a=t().sessions.find(r=>r.name===s);if(!a)return j({text:""});const o=a==null?void 0:a.messages;return Array.isArray(o)&&o.length>0?o.slice(-1)[0]:j({text:""})},lastUserMessage(s){const a=t().sessions.find(r=>r.name===s);if(!a)return j({text:""});const o=[...a.messages];return Array.isArray(o)&&o.length>0?o.reverse().find(r=>r.sender_type==="user"):j({text:""})},lastBotMessage(s){const a=t().sessions.find(r=>r.name===s);if(!a)return j({text:""});const o=[...a.messages];return Array.isArray(o)&&o.length>0?o.reverse().find(r=>r.sender_type==="bot"&&r.model!=="admin"):j({text:""})},updateSession(s,a){const o=t().sessions;let r=o[s];r={...r,...a},o[s]=r,e(()=>({sessions:o}))},closeController(s){const a=t().controller,o=a==null?void 0:a[s];if(o){o.abort&&o.abort(),delete a[s],e(()=>({controller:{...a}}));const r=t().sessions.findIndex(u=>u.name===s),c=t().sessions[r];t().updateMessage(r,c.messages.length-1,u=>{u.stream=!1,u.text=u.text.concat(`
 > Request canceled。`)}),W(`chat-wrapper-${c.id}`)}},clearAllData(){localStorage.removeItem("chat"),e(()=>({sessions:[U({name:R})]})),window.location.reload()}}),{name:"chat",version:2,migrate(e,t){const s=e,a=JSON.parse(JSON.stringify(s));if(t<2){a.globalId=0,a.sessions=[];const o=s.sessions;for(const r of o){const c=U({name:$});c.id=r.id,c.name=r.name,c.clearContextIndex=r.clearContextIndex,c.messages=[...r.messages],a.sessions.push(c)}}return a}})),me=ce()(ie((e,t)=>({chosenBotNames:[R],currentBot:R,updateCurrentBot:s=>{e({currentBot:s})},addBot:s=>{const{chosenBotNames:a}=t();a.includes(s)||e({chosenBotNames:[...a,s]})},removeBot:s=>{const{chosenBotNames:a}=t();e({chosenBotNames:a.filter(o=>o!==s)})},getCurrentBot:()=>t().currentBot||R,clearBots:()=>{localStorage.removeItem("bot"),e({chosenBotNames:[R]})}}),{name:"bot",version:2,migrate(e,t){const a=JSON.parse(e);return t<2&&(a.chosenBotNames=[R],a.currentBot=R),a}})),bs=()=>{const e=E();return n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsxs("g",{clipPath:"url(#clip0_50_304)",children:[n.jsx("mask",{id:"mask0_50_304",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"20",height:"20",children:n.jsx("path",{d:"M20 0H0V20H20V0Z",fill:"white"})}),n.jsxs("g",{mask:"url(#mask0_50_304)",children:[n.jsx("path",{d:"M18.659 10.0709L13.2991 2.95807L5.8894 8.54167L11.4582 15.4167L12.8564 14.4435L18.659 10.0709Z",stroke:e.theme==="light"?"black":"white",strokeWidth:"1.66667",strokeLinejoin:"round"}),n.jsx("path",{d:"M11.4582 15.4167L9.85879 16.6978L5.45733 16.6975L4.37379 15.2596L1.69385 11.7032L6.0415 8.427",stroke:e.theme==="light"?"black":"white",strokeWidth:"1.66667",strokeLinejoin:"round"}),n.jsx("path",{d:"M5.50244 16.6967H18.569",stroke:e.theme==="light"?"black":"white",strokeWidth:"1.66667",strokeLinecap:"round"})]})]}),n.jsx("defs",{children:n.jsx("clipPath",{id:"clip0_50_304",children:n.jsx("rect",{width:"20",height:"20",fill:"white"})})})]})},ks=()=>{const e=E();return n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.33301 2.46417H11.6663V5.79752H17.9163V9.13086H2.08301V5.79752H8.33301V2.46417Z",stroke:e.theme==="light"?"black":"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M3.33301 16.6667H16.6663V9.16669H3.33301V16.6667Z",stroke:e.theme==="light"?"black":"white",strokeWidth:"1.66667",strokeLinejoin:"round"}),n.jsx("path",{d:"M6.66699 16.624V14.1309",stroke:e.theme==="light"?"black":"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M10 16.624V14.124",stroke:e.theme==="light"?"black":"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M13.333 16.624V14.1309",stroke:e.theme==="light"?"black":"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M5 16.6667H15",stroke:e.theme==="light"?"black":"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]})},Cs=()=>{const e=E();return n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M15.3033 15.3033C13.9461 16.6605 12.0711 17.5 10 17.5C5.85787 17.5 2.5 14.1421 2.5 10C2.5 5.85787 5.85787 2.5 10 2.5C12.0711 2.5 13.9461 3.33947 15.3033 4.69671C15.9941 5.38754 17.5 7.08333 17.5 7.08333",stroke:e.theme==="light"?"black":"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M17.5 3.33331V7.08331H13.75",stroke:e.theme==="light"?"black":"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]})},Ss=e=>{var _;const{models:t}=React.useContext(D),{modelName:s}=e,a=X(),{sessions:o}=a,r=o.find(i=>i.name===s),c=me(),u=()=>{const i=a.sessions.findIndex(A=>A.name===s),v=a.sessions[i];a.lastMessage(v.name).sender_type!==ne&&(v.clearContextIndex=v.messages.length||0,a.updateSession(i,v),a.onNewMessage(j({model:"admin",text:"",sender_type:ne,id:Date.now(),stream:!1,isError:!0}),i),W(`chat-wrapper-${v.id}`))},f=()=>{const i=o.findIndex(v=>v.name===s);a.updateSession(i,{messages:[],clearContextIndex:0})},y=()=>{a.closeController(s)},g=()=>{var A;const i=r.name===$?c.currentBot:a.lastBotMessage(r.name).model,v=((A=t[i])==null?void 0:A.provider)||"";a.retry(r.name,v,i)};return React.useEffect(()=>()=>{y()},[]),n.jsxs("div",{className:P.homeOperation,children:[a.lastMessage(s).stream&&n.jsx(G,{title:"Stop generating",className:P.opBtn,children:n.jsx("div",{...B(y),children:n.jsx("img",{src:`${Et}stop.png`,className:P.opImg,alt:"stop"},"stop_generate")})}),!!((_=r.messages)!=null&&_.length)&&!a.lastMessage(s).stream&&n.jsxs(n.Fragment,{children:[n.jsx(G,{title:"Clear context",className:P.opBtn,children:n.jsx("div",{...B(u),children:n.jsx(bs,{})})}),n.jsx(G,{title:"Clear message history",className:P.opBtn,children:n.jsx("div",{...B(f),children:n.jsx(ks,{})})}),n.jsx(G,{title:"Regenerate",className:P.opBtn,children:n.jsx("div",{...B(g),children:n.jsx(Cs,{})})})]})]})},Ls="_hidden-scrollbar_61gam_1",js="_styled-scrollbar_61gam_11",Rs="_sessions_61gam_30",Is="_preview-sessions_61gam_39",Es="_session-wrapper_61gam_51",Ms="_chat_61gam_56",Bs="_empty-chat_61gam_74",Ns="_empty-chat-text_61gam_81",Ts="_message_61gam_96",Os="_message-wrapper_61gam_102",Ps="_chat-user-title_61gam_162",Us="_chat-bot-title_61gam_170",Hs="_message-item_61gam_178",zs="_stream-wrapper_61gam_183",$s="_glow_61gam_1",Ds="_chat-user_61gam_162",qs="_chat-bot_61gam_170",Ws="_chat-operations_61gam_196",Ks="_chat-date_61gam_207",Vs="_chat-checkbox_61gam_214",Js="_model-avatar_61gam_257",Ys="_model-avatar-img_61gam_270",Fs="_model-name_61gam_273",Gs="_copy-code-btn_61gam_279",Xs="_clear-line_61gam_292",Qs="_markdown-block_61gam_314",Zs="_mario_61gam_1",eo="_running-mario_61gam_1",x={"hidden-scrollbar":"_hidden-scrollbar_61gam_1",hiddenScrollbar:Ls,"styled-scrollbar":"_styled-scrollbar_61gam_11",styledScrollbar:js,sessions:Rs,"preview-sessions":"_preview-sessions_61gam_39",previewSessions:Is,"session-wrapper":"_session-wrapper_61gam_51",sessionWrapper:Es,chat:Ms,"empty-chat":"_empty-chat_61gam_74",emptyChat:Bs,"empty-chat-text":"_empty-chat-text_61gam_81",emptyChatText:Ns,message:Ts,"message-wrapper":"_message-wrapper_61gam_102",messageWrapper:Os,"chat-user-title":"_chat-user-title_61gam_162",chatUserTitle:Ps,"chat-bot-title":"_chat-bot-title_61gam_170",chatBotTitle:Us,"message-item":"_message-item_61gam_178",messageItem:Hs,"stream-wrapper":"_stream-wrapper_61gam_183",streamWrapper:zs,glow:$s,"chat-user":"_chat-user_61gam_162",chatUser:Ds,"chat-bot":"_chat-bot_61gam_170",chatBot:qs,"chat-operations":"_chat-operations_61gam_196",chatOperations:Ws,"chat-date":"_chat-date_61gam_207",chatDate:Ks,"chat-checkbox":"_chat-checkbox_61gam_214",chatCheckbox:Vs,"model-avatar":"_model-avatar_61gam_257",modelAvatar:Js,"model-avatar-img":"_model-avatar-img_61gam_270",modelAvatarImg:Ys,"model-name":"_model-name_61gam_273",modelName:Fs,"copy-code-btn":"_copy-code-btn_61gam_279",copyCodeBtn:Gs,"clear-line":"_clear-line_61gam_292",clearLine:Xs,"markdown-block":"_markdown-block_61gam_314",markdownBlock:Qs,mario:Zs,"running-mario":"_running-mario_61gam_1",runningMario:eo};async function to(e){try{await navigator.clipboard.writeText(e),I.success("copied!")}catch{const s=document.createElement("textarea");s.value=e,document.body.appendChild(s),s.focus(),s.select();try{document.execCommand("copy"),I.success("copied!")}catch{I.error("copy failed")}document.body.removeChild(s)}}function so(e){const t=React.useRef(null),[s,a]=React.useState(!1),o=()=>{if(t.current){const r=t.current.innerText;to(r)}};return n.jsx("pre",{ref:t,children:n.jsxs("div",{onMouseOver:()=>a(!0),onFocus:()=>a(!0),onMouseLeave:()=>a(!1),children:[s&&n.jsx("span",{className:x.copyCodeBtn,...B(o)}),e.children]})})}const oo=()=>n.jsx("div",{id:x.mario});function ao(e){const{models:t}=React.useContext(D),[s,a]=React.useState(!1),{message:o}=e,r=o.sender_type==="user"||o.provider==="user",c=o.sender_type==="admin"||o.provider==="admin",u=o.sender_type===ne,f=ae(x.messageWrapper,r?x.chatUser:x.chatBot),y=E(),_=(()=>r?ke:c?qt:t[o.model])();return!u&&!_?null:n.jsx("div",{className:x.message,style:{justifyContent:r?"flex-end":"flex-start"},onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:u?n.jsx("div",{className:x.clearLine,children:"Context cleared"}):n.jsxs(n.Fragment,{children:[!oe&&!r&&n.jsx("div",{style:{background:_.webui.background},className:x.modelAvatar,children:n.jsx("img",{src:_.webui.avatar,className:x.modelAvatarImg,alt:_.model})}),n.jsxs("div",{title:o.model||y.username,className:f,style:{borderRadius:r?"10px 1px 10px 10px":"1px 10px 10px 10px"},children:[o.stream&&n.jsx(oo,{}),!r&&n.jsx("div",{className:x.chatOperations,children:`${_.provider} - ${o.model}`}),n.jsx(vt,{className:x.markdownBlock,remarkPlugins:[At,yt,wt],rehypePlugins:[bt],components:{code:Nt,pre:so},children:o.text}),s&&n.jsx("div",{className:x.chatDate,style:{right:r?"0":"auto",left:r?"auto":"0"},children:o.date})]}),!oe&&r&&n.jsx("div",{style:{color:ke.background,marginRight:2},className:x.modelAvatar,children:"ME"})]})})}function no(e){const{session:t}=e;return React.useEffect(()=>{Ee(`chat-wrapper-${t.id}`)},[t.messages.length]),n.jsxs("div",{className:x.sessionWrapper,children:[n.jsxs("div",{className:x.chat,id:`chat-wrapper-${t.id}`,children:[Array.isArray(t.messages)&&t.messages.length===0&&n.jsx("div",{className:x.emptyChat,children:n.jsxs("div",{className:x.emptyChatText,children:[n.jsx("span",{children:"Shortcuts"}),n.jsx("br",{}),n.jsx("br",{}),n.jsx("code",{children:"#"})," - Change chat mode"]})}),Array.isArray(t.messages)&&t.messages.map((s,a)=>n.jsx("div",{className:x.messageItem,children:n.jsx(ao,{message:s,sessionInfo:{id:t.id,name:t.name,bot:t.bot}},s.id)},s.id))]}),n.jsx(Ss,{modelName:t.name})]})}const ro=()=>{const{models:e}=React.useContext(D),t=X(),s=E(),{sessions:a}=t;return n.jsx("div",{className:x.sessions,children:Array.isArray(a)&&a.map(o=>s.mode===z&&o.name!==$||s.mode===V&&o.name===$||!o.isShow?null:s.mode===V&&!e[o.name]?(t.removeSession(o.name),null):n.jsx(no,{session:o},o.id))})},co="_home-models_1vuuq_1",io="_model-avatar_1vuuq_10",lo="_model-avatar-img_1vuuq_24",mo="_model-chosen_1vuuq_29",uo="_model-name_1vuuq_35",go="_model-avatar-chosen_1vuuq_43",K={"home-models":"_home-models_1vuuq_1",homeModels:co,"model-avatar":"_model-avatar_1vuuq_10",modelAvatar:io,"model-avatar-img":"_model-avatar-img_1vuuq_24",modelAvatarImg:lo,"model-chosen":"_model-chosen_1vuuq_29",modelChosen:mo,"model-name":"_model-name_1vuuq_35",modelName:uo,"model-avatar-chosen":"_model-avatar-chosen_1vuuq_43",modelAvatarChosen:go},Pe=()=>{document.querySelectorAll(".scale-avatar").forEach(e=>{e.style.setProperty("--scale","1")})};function ho(e){const t=React.useRef(null),s=E(),a=X(),o=me(),[r,c]=React.useState(!1),u=s.mode===V&&o.chosenBotNames.includes(e.model.model)||s.mode===z&&o.currentBot===e.model.model;function f(g){if(s.mode===V)if(o.chosenBotNames.includes(g)){if(o.chosenBotNames.length===1){I.warning("At least one model should be selected");return}o.removeBot(g),a.removeSession(g)}else o.chosenBotNames.length===It?I.warning("No more models can be selected"):(o.addBot(g),a.newSession(g));else o.updateCurrentBot(g)}const y=g=>{let _=g.target;g.target!==t.current&&(_=g.target.parentNode);const i=_.getBoundingClientRect(),v=Math.abs(g.clientX-i.left)/i.width,A=_.previousElementSibling||null,M=_.nextElementSibling||null,C=.4;Pe(),A&&A.style.setProperty("--scale",`${1+C*Math.abs(v-1)}`),_.style.setProperty("--scale",`${1+C}`),M&&M.style.setProperty("--scale",`${1+C*v}`),g.stopPropagation()};return n.jsxs("div",{ref:t,className:`${K.modelAvatar} ${u&&K.modelAvatarChosen} scale-avatar`,onMouseMove:y,onMouseOver:()=>c(!0),onMouseLeave:()=>c(!1),...B(()=>f(e.model.model)),onFocus:()=>c(!0),children:[n.jsx("img",{src:e.model.webui.avatar,className:K.modelAvatarImg,alt:e.model.provider}),(r||u)&&n.jsxs("div",{className:K.modelName,children:["@",e.model.model||e.model.provider]})]})}const po=()=>{const{models:e}=React.useContext(D);return n.jsx("div",{className:K.homeModels,onMouseLeave:Pe,children:e&&Object.keys(e).map(t=>n.jsx(ho,{model:{model:t,...e[t]}},t))})},te=[{name:"Serial Mode",title:"Toggle between serial and parallel mode",description:"Serial mode will send your message to one bot each time."},{name:"Parallel Mode",title:"Toggle between serial and parallel mode",description:"Parallel mode will send your message to all bots at once."}],_o=""+new URL("send-5bb2204f.png",import.meta.url).href,fo="_home-prompt-wrapper_1o1fz_1",xo="_prompt_1o1fz_29",vo="_prompt-trash_1o1fz_36",Ao="_prompt-operation_1o1fz_40",yo="_chosen-prompt_1o1fz_45",wo="_model-item_1o1fz_49",bo="_model-avatar_1o1fz_54",ko="_home-input-wrapper_1o1fz_60",Co="_prompt-editor_1o1fz_78",So="_model-name-list_1o1fz_85",Lo="_model-name_1o1fz_85",jo="_empty-editor_1o1fz_97",Ro="_backup-textarea_1o1fz_144",Io="_submit-btn_1o1fz_150",Eo="_prompt-clip_1o1fz_154",S={"home-prompt-wrapper":"_home-prompt-wrapper_1o1fz_1",homePromptWrapper:fo,prompt:xo,"prompt-trash":"_prompt-trash_1o1fz_36",promptTrash:vo,"prompt-operation":"_prompt-operation_1o1fz_40",promptOperation:Ao,"chosen-prompt":"_chosen-prompt_1o1fz_45",chosenPrompt:yo,"model-item":"_model-item_1o1fz_49",modelItem:wo,"model-avatar":"_model-avatar_1o1fz_54",modelAvatar:bo,"home-input-wrapper":"_home-input-wrapper_1o1fz_60",homeInputWrapper:ko,"prompt-editor":"_prompt-editor_1o1fz_78",promptEditor:Co,"model-name-list":"_model-name-list_1o1fz_85",modelNameList:So,"model-name":"_model-name_1o1fz_85",modelName:Lo,"empty-editor":"_empty-editor_1o1fz_97",emptyEditor:jo,"backup-textarea":"_backup-textarea_1o1fz_144",backupTextarea:Ro,"submit-btn":"_submit-btn_1o1fz_150",submitBtn:Io,"prompt-clip":"_prompt-clip_1o1fz_154",promptClip:Eo},se={default:"Press # to toggle chat mode, and ENTER to send",google:"Google does not support Chinese"},Mo=()=>{const{models:e}=React.useContext(D),t=X(),s=me(),a=E(),o=React.useRef(null),r=React.useRef(null),[c,u]=React.useState(te),[f,y]=React.useState(!1),[g,_]=React.useState(""),[i,v]=React.useState(null),[A,M]=React.useState(0),[C,T]=React.useState(""),[Y,m]=React.useState(se.default),[d,w]=React.useState(""),[Ue,He]=React.useState(0),[Q,de]=React.useState(!1),[ze,ue]=React.useState(!0),Z=h=>(h=h.replace(/<span class="modelName">.*?<\/span>/g,""),r.current.innerHTML=h,r.current.innerText||""),O=(h,p=!0)=>{if(h===d)return;const b={allowedTags:["b","i","a","p","text","br","div","span","img"],allowedAttributes:{a:["href"],span:["class","id"],img:["src"],div:["class","id"]}};if(p){const F=zt(o.current);He(F)}w(kt(h,b))},ge=h=>{h.name==="Serial Mode"?(a.updateMode(z),I.success("Change to serial mode!"),O("")):h.name==="Parallel Mode"?(a.updateMode(V),I.success("Change to parallel mode!"),O("")):(v(h),O("")),_(""),y(!1),T("")},he=()=>{var h;if(g.trim())if(_(""),O(""),a.mode===z){const p=(h=e[s.currentBot])==null?void 0:h.provider;t.onUserInput(g,p,s.currentBot,$)}else s.chosenBotNames.forEach(p=>{var F;const b=(F=e[p])==null?void 0:F.provider;t.onUserInput(g,b,p,p)})},$e=h=>{const p=h.key;if(!Q){if(p==="Enter"&&!h.shiftKey){if(h.preventDefault(),g.trim()){if(f){ge(c[A]);return}he()}ue(!0)}if(p==="#"&&!f&&y(!0),f){const b=c.length-1;p==="ArrowUp"?(M(A===0?b:A-1),h.preventDefault()):p==="ArrowDown"?(M(A===b?0:A+1),h.preventDefault()):p==="Backspace"&&g.slice(-1)==="#"&&(y(!1),T(""))}f&&p==="Escape"&&y(!1)}},De=h=>{if(Q)return;const p=h.target;console.log(Z(p.innerHTML),p.innerHTML),_(Z(p.innerHTML));const b=p.innerHTML;O(b)},qe=h=>{if(ue(!h.target.textContent.length),Q)return;const p=h.target;_(Z(p.innerHTML));const b=p.innerHTML;O(b)};return React.useEffect(()=>{const h=te.filter(p=>p.name.toLowerCase().includes(C.toLowerCase()));M(0),h.length===0?(y(!1),u(te)):u(h)},[C]),React.useEffect(()=>{f&&T(g.split("#").slice(-1)[0])},[g]),React.useEffect(()=>{m(i?i.description:se[s.currentBot]||se.default)},[i,s.currentBot]),React.useLayoutEffect(()=>{o.current&&$t(o.current,Ue)},[d]),n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:S.homeInputWrapper,children:[f&&n.jsx("div",{className:S.homePromptWrapper,children:c.map((h,p)=>n.jsx("div",{className:ae(S.prompt,{[S.chosenPrompt]:p===A}),...B(()=>ge(h)),children:n.jsx("div",{className:S.modelItem,children:h.name})},h.name))}),i&&n.jsxs("div",{className:S.modelName,children:["#",i.name]}),n.jsx("div",{contentEditable:!0,spellCheck:!0,ref:o,id:"prompt-textarea",className:ae(S.promptEditor,{[S.emptyEditor]:ze}),"data-text":Y,onKeyDown:$e,onKeyUp:De,onCompositionStart:()=>de(!0),onInput:qe,onCompositionEnd:()=>de(!1),dangerouslySetInnerHTML:{__html:d}}),n.jsx("img",{className:S.promptClip,src:_o,alt:"send-message",...B(he)})]}),n.jsx("div",{ref:r,style:{opacity:0,display:"hidden",position:"fixed",fontSize:0}})]})},Bo="_loading-icon_1yjma_1",No="_aoe_1yjma_1",To="_home-loading_1yjma_6",Se={"loading-icon":"_loading-icon_1yjma_1",loadingIcon:Bo,aoe:No,"home-loading":"_home-loading_1yjma_6",homeLoading:To},Oo=()=>n.jsx("div",{className:Se.homeLoading,children:n.jsx("div",{className:Se.loadingIcon})}),Po="_home_1tmut_1",Uo="_home-chats_1tmut_5",Ho="_homeModal_1tmut_10",Le={home:Po,"home-chats":"_home-chats_1tmut_5",homeChats:Uo,homeModal:Ho},zo=()=>{const[e,t]=React.useState(!1);return React.useEffect(()=>{setTimeout(()=>{t(!0)},1500)},[]),e},$o=()=>zo()?n.jsxs("div",{className:Le.home,children:[n.jsx("div",{className:Le.homeChats,children:n.jsx(ro,{})}),n.jsx(Mo,{}),n.jsx(po,{})]}):n.jsx(Oo,{}),Do=()=>n.jsx(Ct,{children:n.jsx(St,{children:n.jsx(Lt,{path:"/",element:n.jsx($o,{})})})}),qo=({children:e})=>{const[t,s]=React.useState(Wt),[a,o]=React.useState(!0);React.useEffect(()=>{o(!0),fetch("/config/json").then(c=>c.json()).then(c=>{c&&c.models&&s(c.models)}).catch(c=>{console.log(c)}).finally(()=>{o(!1)})},[]);const r=React.useMemo(()=>({models:t}),[t]);return n.jsx(D.Provider,{value:r,children:!a&&e})},Wo={welcome:"欢迎，感恩",hello:"嗨",hi:"你好",loading:"Loading"},Ko={...Wo},Vo={welcome:"Welcome, grateful",hello:"Hi",hi:"Hello",loading:"Loading"},Jo={...Vo},Yo={"zh-CN":Ko,"en-US":Jo};function Fo(e){}const Go={locale:J(),setLocale:Fo},Xo=React.createContext(Go),Qo=({children:e})=>{const[t,s]=React.useState(J()),a=React.useCallback(r=>{s(r),Pt(r)},[]),o=React.useMemo(()=>({locale:t,setLocale:a}),[t,a]);return n.jsx(jt,{locale:t,messages:Yo[t],children:n.jsx(Xo.Provider,{value:o,children:e})})},Zo=""+new URL("AOE-b98456c3.svg",import.meta.url).href,ea="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEKSURBVHgBtVWLDYIwEH1RB2CEbuAKbqAbgBOoE+AGjIAboRPABrIBcnLE2vRqD9OXvJCUd196xxo6FCO3Ix9IhIEZjRUSww2QYWqDEfQd0weyPfBTBAmoBW0giA+Gbcg2DwkzS1hbZ1frnNjwe8OaSpOYYYMdpnY9Lccu6d2ZtTV0Vb8Nh0jmUML8yNxXSaYJUCuczyyhQLMgQCs5KzyiYSGB79uWJ59kCXYWsWx8jqQKbtDjrhHTldNeUwMlCkWAk+TE1yKDaQ66kZeRPWT0nAj9gCpE7qH5A1dOQHs2SFPiM721dR6c6AL/r+t9SJixQMqihTyxBtPSU+0kF/bERiH5JG+gwxHKCl5qY6X0Tnl2NgAAAABJRU5ErkJggg==",ta="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFkSURBVHgB7VTLcYNADNViF+CL+dxIB6QDXEHSQZxK7HSQDhJ34A4gHdAB3PgMBxfAJ08Tx7NZWDA4R7+ZndFqJT2BPkR3jECMGaRp6huG8dK2rY+rixNCfnUcJ6ErIAYCu0KID4j+xViIvWVZbzQBvQRFUXjIMsBZ3RKcsVQVnLkaHPIJ50Az0CFApn+Cn3WhbdsJzYAhX/I8f6afQqqkEc2EodyfNHYu/ROBp7HT6TvgGmoJ8O97A7Ge54GuAGZmpyUYAs+Emp0KvO+RzHaIING7Ew9eUJZlp05xHK+yLHvH+05tiKWSZahmoJJUVXVEsIgD8XyciX2ptfUETdMcYLylcXhyvSBfHhaLxVE27KwKZBeQtH8mIsFAPsiKTpF5U+IrTjQR7APfjarvEPAahvFmCgnbsk/fCu9tU9M0I9TjkYa76hch27JPL/mYN7dlXde8o+TC8leGGKrP9Xr9RXfcgm+bjqOGex62UQAAAABJRU5ErkJggg==",sa="_header_1iqh2_1",oa="_header-title_1iqh2_11",aa="_header-operation_1iqh2_22",na="_light-theme_1iqh2_25",ra="_dark-theme_1iqh2_36",ca="_animate-light_1iqh2_47",ia="_animate-dark_1iqh2_51",L={header:sa,"header-title":"_header-title_1iqh2_11",headerTitle:oa,"header-operation":"_header-operation_1iqh2_22",headerOperation:aa,"light-theme":"_light-theme_1iqh2_25",lightTheme:na,"dark-theme":"_dark-theme_1iqh2_36",darkTheme:ra,"animate-light":"_animate-light_1iqh2_47",animateLight:ca,"animate-dark":"_animate-dark_1iqh2_51",animateDark:ia},la=()=>{const e=React.useRef(null),t=React.useRef(null),[s,a]=React.useState(!1),o=E(),r=()=>{window.location.href="/"},c=(u="")=>{setTimeout(()=>{o.updateTheme(u||o.theme==="light"?"dark":"light")},200)};return React.useEffect(()=>{},[o.theme]),React.useEffect(()=>{document.body.setAttribute("data-theme",o.theme),e.current&&t.current&&(o.theme==="light"?(e.current.classList.remove(L.animateLight),t.current.classList.remove(L.animateDark)):o.theme==="dark"&&(e.current.classList.add(L.animateLight),t.current.classList.add(L.animateDark)))},[o.theme,s]),n.jsxs("div",{className:L.header,children:[n.jsx("div",{className:L.headerTitle,onClick:r,children:n.jsx("img",{src:Zo,alt:"AOE_LOGO"})}),n.jsxs("div",{className:L.headerOperation,onClick:()=>c(),children:[n.jsx("span",{ref:e,className:L.lightTheme,children:n.jsx("img",{src:ea,alt:"sun",onLoad:()=>a(!s)})}),n.jsx("span",{ref:t,className:L.darkTheme,children:n.jsx("img",{src:ta,alt:"moon",onLoad:()=>a(!s)})})]})]})};const ma=()=>n.jsx(qo,{children:n.jsxs(Qo,{children:[n.jsx(la,{}),n.jsx(Do,{})]})});Rt.createRoot(document.getElementById("root")).render(n.jsx(ma,{}));
