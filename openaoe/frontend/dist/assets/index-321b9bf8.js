import{c as ce,p as ie,S as m,a as Ve,b as Je,d as Ye,e as fe,f as xe,j as Fe,g as ve,v as Ae,h as ye,t as Ge,i as Xe,l as Qe,s as Ze,k as et,m as tt,r as st,o as we,n as ot,q as at,u as nt,w as rt,x as ct,y as it,z as lt,A as mt,B as be,C as dt,D as ut,E as gt,F as ke,G as ht,H as n,I as pt,J as _t,K as ft,L as oe,M as E,N as xt,O as vt,P as At,T as G,Q as ae,R as yt,U as wt,V as bt,W as kt,X as St,Y as Ct,Z as Lt,_ as jt,$ as Rt,a0 as It,a1 as Et}from"./vendor-bad6aacb.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function o(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(s){if(s.ep)return;s.ep=!0;const r=o(s);fetch(s.href,r)}})();const ne="clear_context",z="serial",J="parallel",D="serial_session",Mt=3,I="gpt-3.5-turbo",Ie="openai",Bt="https://oss.openmmlab.com/alles-bot/",Nt=["openai","minimax","claude","gpt-4","internlm"],M=ce()(ie((e,t)=>({token:"",theme:"light",username:"user",mode:z,updateTheme:o=>{e({theme:o})},updateMode:o=>{e({mode:o})}}),{name:"config",version:2,migrate(e,t){const a=JSON.parse(JSON.stringify(e));return t<2&&(a.token={}.VITE_ALLES_APIN_TOKEN,a.theme="light",a.username="user",a.mode=z),a}})),Tt=({children:e,inline:t,className:o,...a})=>{const s=/language-(\w+)/.exec(o||"")||[],r=M();return m.registerLanguage("assembly",Ve),m.registerLanguage("python",Je),m.registerLanguage("c",Ye),m.registerLanguage("c/c++",fe),m.registerLanguage("clike",fe),m.registerLanguage("c++",xe),m.registerLanguage("cpp",xe),m.registerLanguage("java",Fe),m.registerLanguage("csharp",ve),m.registerLanguage("c#",ve),m.registerLanguage("vb",Ae),m.registerLanguage("visual basic",Ae),m.registerLanguage("javascript",ye),m.registerLanguage("typescript",Ge),m.registerLanguage("css",Xe),m.registerLanguage("less",Qe),m.registerLanguage("js",ye),m.registerLanguage("sql",Ze),m.registerLanguage("php",et),m.registerLanguage("go",tt),m.registerLanguage("r",st),m.registerLanguage("objective-c",we),m.registerLanguage("objc",we),m.registerLanguage("matlab",ot),m.registerLanguage("swift",at),m.registerLanguage("ruby",nt),m.registerLanguage("lua",rt),m.registerLanguage("json",ct),m.registerLanguage("yaml",it),m.registerLanguage("xml",lt),m.registerLanguage("dDockerfile",mt),m.registerLanguage("markdown",be),m.registerLanguage("md",be),m.registerLanguage("makefile",dt),m.registerLanguage("latex",ut),m.registerLanguage("llvm",gt),m.registerLanguage("shell",ke),m.registerLanguage("sh",ke),m.registerLanguage("bash",ht),!t&&s?n.jsx(m,{language:(s[1]||"Python").toLowerCase(),style:r.theme==="light"?pt:_t,customStyle:{borderRadius:"10px"},PreTag:"div",...a,children:e}):n.jsx("code",{className:o,...a,children:e})},Ot=React.memo(Tt),le=(...e)=>{const t=e.map(o=>typeof o=="function"?o:()=>o);return(...o)=>{let a=0,s;for(s=t.length===0?o:t[a++](...o);a<t.length;)s=t[a++](s);return s}},re="locale",Pt=()=>{const e=window.localStorage.getItem(re);return e?e==="en-US"?"en-US":"zh-CN":(localStorage.setItem(re,"en-US"),"en-US")};let Ee=Pt();const Ut=e=>(window.localStorage.setItem(re,e),e),Y=()=>Ee,Ht=e=>{Ee=Ut(e)},Se=e=>{const t=document.cookie.split(";");for(let o=0;o<t.length;o++)if(t[o].split("=")[0].trim()===e){const s=new Date;s.setTime(s.getTime()-60),document.cookie=`${t[o]};expires=${s.toUTCString()};path=/;domain=${{}.VITE_COOKIE_DOMAIN}`;break}},Me={tokenKey:"x_token",cookieTokenKey:"uaa-token",getFromCookie(){return ft.get(this.cookieTokenKey)},storage(e){return e==null?(localStorage.removeItem(this.tokenKey),!1):(localStorage.setItem(this.tokenKey,e),!0)},update(e){localStorage.getItem(this.tokenKey)!==e&&this.storage(e)},get(){const e=this.getFromCookie();return this.update(e),e||localStorage.getItem(this.tokenKey)},has(){return!!this.get()},removeAll(){Se(this.cookieTokenKey),Se("ssouid"),localStorage.removeItem(this.tokenKey)}},$t=()=>"/login";function zt(e,t=50){let o=null;return(...a)=>{o?clearTimeout(o):e.apply(this,a),o=setTimeout(()=>{e.apply(this,a)},t)}}const Be=e=>{const t=document.getElementById(e);t&&t.scrollTo({top:999999,behavior:"smooth"})},K=zt(e=>Be(e),50),B=(e,t=null)=>oe?{onTouchEnd:t||e}:{onClick:e||t},Dt=e=>{if(e===null)return 0;const t=window.getSelection();if(t.rangeCount>0){const o=t.getRangeAt(0),a=o.cloneRange();return a.selectNodeContents(e),a.setEnd(o.startContainer,o.startOffset),a.toString().length}return 0};function qt(e,t){let o=0;const a=document.createRange();a.setStart(e,0);function s(c){for(let l=0;l<c.childNodes.length;l++){const p=c.childNodes[l];if(p.nodeType===Node.TEXT_NODE){if(o+p.length>=t)return a.setStart(p,t-o),a.collapse(!0),!0;o+=p.length}else if(s(p))return!0}}s(e);const r=window.getSelection();r.removeAllRanges(),r.addRange(a)}const Wt=""+new URL("A-017dd65e.svg",import.meta.url).href,Ce={provider:"user",model:"user",avatar:"user.png",border:"#71e875",background:"#71e875"},Kt={provider:"admin",model:"admin",avatar:Wt,border:"#4e6ef2",background:"linear-gradient(rgb(255 255 255 / 80%) 0%, rgb(168 245 179) 100%)"},Vt={"internlm-chat-7b":{provider:"internlm",webui:{avatar:"https://oss.openmmlab.com/frontend/OpenAOE/internlm.svg",background:"linear-gradient(rgb(3 26 108 / 85%) 0%, rgb(29 60 161 / 85%) 100%)"}},"gpt-3.5-turbo":{provider:"openai",webui:{avatar:"https://oss.openmmlab.com/frontend/OpenAOE/openai.svg",background:"linear-gradient(180deg, rgba(156, 206, 116, 0.15) 0%, #1a8d15 100%)"}},"gpt-4":{provider:"openai",webui:{avatar:"https://oss.openmmlab.com/frontend/OpenAOE/openai.svg",background:"linear-gradient(180deg, rgba(156, 206, 116, 0.15) 0%, #08be00 100%)"}},"claude-1":{provider:"claude",webui:{avatar:"https://oss.openmmlab.com/frontend/OpenAOE/claude.svg",background:"linear-gradient(180deg, rgba(141, 90, 181, 0.15) 0%, rgba(106, 39, 123, 0.7) 53.12%, #663E9A 100%)"}},"claude-1-100k":{provider:"claude",webui:{avatar:"https://oss.openmmlab.com/frontend/OpenAOE/claude.svg",background:"linear-gradient(180deg, rgba(141, 90, 181, 0.15) 0%, rgba(106, 39, 123, 0.7) 53.12%, #663E9A 100%)"}},"chat-bison-001":{provider:"google",webui:{avatar:"https://oss.openmmlab.com/frontend/OpenAOE/google-palm.webp",isStream:!1,background:"linear-gradient(180deg, rgba(181, 90, 90, 0.15) 0%, #fa5ab1 100%)"}},"abab5-chat":{provider:"minimax",webui:{avatar:"https://oss.openmmlab.com/frontend/OpenAOE/minimax.png",background:"linear-gradient(180deg, rgba(207, 72, 72, 0.15) 0%, rgba(151, 43, 43, 0.7) 53.12%, #742828 100%)"}},spark:{provider:"spark",webui:{avatar:"https://oss.openmmlab.com/frontend/OpenAOE/spark.svg",isStream:!1,background:"linear-gradient(180deg, rgba(72, 72, 207, 0.15) 0%, #7498be 100%)"}}},Jt={models:null,streamModels:[]},q=React.createContext(Jt),Yt="_home-operation_16zek_1",Ft="_op-btn_16zek_14",Gt="_op-img_16zek_25",U={"home-operation":"_home-operation_16zek_1",homeOperation:Yt,"op-btn":"_op-btn_16zek_14",opBtn:Ft,"op-img":"_op-img_16zek_25",opImg:Gt},Xt={model:"abab5-chat",prompt:"",messages:[],role_meta:{user_name:"USER",bot_name:"BOT"},stream:!0,type:"json"},Qt={model:"gpt-3.5-turbo",prompt:"",messages:[],role_meta:{user_name:"user",bot_name:"assistant"},type:"json"},Zt={model:"chat-bison-001",prompt:{messages:[]},temperature:.1,candidate_count:1},es={prompt:"",model:"claude-1",max_tokens:5e3},ts={parameter:{chat:{temperature:.5,max_tokens:1024,chat_id:"user1"}},payload:{message:{text:[]}}},ss={model:"internlm-chat-7b",prompt:"",messages:[],role_meta:{user_name:"user",bot_name:"assistant"},stream:!0},os={model:"mistral",prompt:"",messages:[],role_meta:{user_name:"user",bot_name:"assistant"},stream:!0},as={model:"gemma",messages:[],stream:!0},N="",S=new Map;S.set("minimax",{url:`${N}/v1/minimax/v1/text/chat-stream`,...Xt});S.set("openai",{url:`${N}/v1/openai/v1/text/chat-stream`,...Qt});S.set("google",{url:`${N}/v1/google/v1/palm/chat`,...Zt});S.set("claude",{url:`${N}/v1/claude/v1/text/chat-stream`,...es});S.set("spark",{url:`${N}/v1/xunfei/v1/spark/chat`,...ts});S.set("internlm",{url:`${N}/v1/internlm/v1/chat/completions`,...ss});S.set("mistral",{url:`${N}/v1/mistral/v1/mistral/chat`,...os});S.set("gemma",{url:`${N}/v1/google/v1/gemma/chat`,...as});const Ne=()=>({"Content-Type":"application/json"}),ns=e=>{var t;return((t=S.get(e))==null?void 0:t.url)||S.get(Ie).url},Le=(e,t,o,a)=>{const s={...S.get(e)||S.get(Ie)};if(delete s.url,s.model=t,["openai","internlm","gpt-4","mistral","gemma"].includes(e)&&(s.prompt=o,s.messages=a),e==="minimax"&&(s.prompt=o,s.messages=a.map(r=>({text:r.text,sender_type:r.sender_type==="user"?"USER":"BOT"})),s.messages.push({text:o,sender_type:"USER"})),e==="google")if(["gemma-7b","gemma-2b"].includes(t))s.prompt=o,s.messages=a;else{const r={content:"Hi! How can I help you today?",author:"1"},c=a.map(l=>({content:l.text,author:l.sender_type==="user"?"0":"1"}));c.push({content:o,author:"0"}),c.unshift(r),s.prompt.messages=c}if(e==="baidu"||e==="claude"){const r=a.map(c=>({role:c.sender_type,content:c.text}));r.push({role:"user",content:o}),s.messages=r}if(e==="spark"){const r=a.map(c=>({role:c.sender_type,content:c.text}));r.push({role:"user",content:o}),delete s.model,s.payload.message.text=r}return s},rs={development:"",staging:"",production:""},cs={mock:"",development:"",staging:"",production:""},Te="production",is=rs[Te],ls=cs[Te],ms=[],ds=e=>{const t={};return ms.find(a=>e.url.endsWith(a))||Me.get(),{...e,headers:{lang:Y(),...e.headers,...t}}},us=e=>({...e,headers:{...e.headers,"Client-Type":"app",type:0}}),gs=[ds,us],Oe=()=>{Me.removeAll()},hs=e=>{const t=e.data;return e.__meta.isAllResponseBody?t:t.data},ps=e=>{const t=e.data,a=!e.__meta.isIgnoreError;return t.success===!1&&a&&E.error(t.msg),e},_s=e=>{const t=e.data;return t&&t.msgCode==="A0202"&&Oe(),e},fs=e=>{const t=e.data;return t&&t.msgCode==="C1600"&&(window.location.href=$t()),e},ee=(e,t=!1)=>{t||E.error(e)},xs=e=>{if(e.response){const o=e.__meta.isIgnoreGatewayError,a=e.response.status;switch(console.log(e.code,"error....."),a){case 401:case 403:Oe();break;case 500:ee(Y()==="zh-CN"?"服务器没有响应，请稍后再试":"Sever error, please try again later.",o);break;default:e.code==="ERR_NETWORK"?ee(Y()==="zh-CN"?"网络出错了，请稍后再试":"Network error, please try again later.",o):ee(`${a}: ${e.message||"unknown error"}`,o)}}return Promise.reject(e)},Pe=[_s,fs,ps,hs],Ue=[xs],$=xt.create({method:"get",timeout:6e4,responseType:"json",paramsSerializer:e=>vt.stringify(e,{indices:!1})}),T=new Map,vs=e=>{let t={};return T.has(e.config.url)&&(t=T.get(e.config.url),T.delete(e.config.url)),{...e,__meta:t}},As=e=>{let t={};return T.has(e.config.url)&&(t=T.get(e.config.url),T.delete(e.config.url)),{...e,__meta:t}};Pe.unshift(vs);Ue.unshift(As);const ys=le(...gs),ws=le(...Pe),bs=le(...Ue);$.interceptors.request.use(ys,e=>Promise.reject(e));$.interceptors.response.use(ws,bs);const ks=(e,{method:t="GET",params:o={},data:a={},...s})=>{const r=`${is}${e}`;switch(t.toLowerCase()){case"get":return $.get(r,{params:o,...s});case"delete":return $.delete(r,{params:o,data:a,...s});case"post":return $.post(r,a,{params:o,...s});case"put":return $.put(r,a,{params:o,...s});default:return Promise.resolve({then:c=>c({msgCode:"300",msg:"Method Not Allowed",traceId:"-1",total:0,status:405,data:{}})})}},Ss=(e,t={},o=ls)=>{const s=`${o}/${e}`.replace(/\/\//g,"/");return t.meta&&(T.set(s,t.meta),delete t.meta),ks(s,t)};async function Cs(e,t,o){const a=Ne();return Ss(e,{method:"POST",headers:{...a},data:t,signal:o,meta:{isAllResponseBody:!0}})}function R(e){return{id:Date.now(),provider:"openai",date:new Date().toLocaleString(),sender_type:"user",text:"",...e}}function H(e){return{id:Date.now()+Math.random(),name:I,bot:"",messages:[],isShow:!0,clearContextIndex:0,...e}}const X=ce()(ie((e,t)=>({hasStreaming:!1,sessions:[H({name:D}),H({name:I})],currentSessionIndex:0,globalId:0,controller:{},newSession(o){const a=t().sessions,s=a.findIndex(c=>c.name===o);if(s>0){t().updateSession(s,{isShow:!0});return}const r=H({name:o,isShow:!0});e(()=>({globalId:t().globalId+1})),r.id=t().globalId,a.push(r),e(()=>({sessions:a}))},removeSession(o){const s=t().sessions.findIndex(r=>r.name===o);s&&t().updateSession(s,{isShow:!1})},getSession(o){const a=t().sessions,s=a.findIndex(r=>r.name===o);return s<0?H({name:o}):a[s]},onNewMessage(o,a=0){t().sessions[a].messages.push(o),e(()=>({sessions:t().sessions}))},deleteMessage(o,a){const s=t().sessions.find(r=>r.name===o);s&&(s.messages.splice(a,1),e(()=>({sessions:t().sessions})))},retry(o,a,s,r=!0){const c=t().lastUserMessage(o).text;t().lastMessage(o).id===t().lastBotMessage(o).id&&t().getSession(o).clearContextIndex!==t().getSession(o).messages.length&&(t().deleteMessage(o,t().getSession(o).messages.length-1),t().deleteMessage(o,t().getSession(o).messages.length-1)),t().onUserInput(c,a,s,o,r)},async onUserInput(o,a,s,r,c=!0){var F;const l=t().sessions.findIndex(d=>d.name===r),p=t().sessions[l];if(!p)return;const x=p.clearContextIndex||0,_=p.messages.slice(x).filter(d=>d.isError!==!0).map(d=>({text:d.text,sender_type:d.sender_type})),g=p.messages.length+1,w=R({text:o,provider:"user",sender_type:"user"}),i=R({provider:a,model:s,text:"...",sender_type:"bot",id:w.id+1,stream:!0});t().onNewMessage(w,l),t().onNewMessage(i,l),K(`chat-wrapper-${p.id}`);const A=new AbortController,y=t().controller;y[r]=A,e(()=>({controller:{...y}}));const b={method:"POST",headers:Ne(),body:JSON.stringify({...Le(a,s,o,_)})},W=ns(a);let O=!0;if(c)At(W,{...b,signal:A.signal,async onopen(d){const u=d.headers.get("content-type");if(u!=null&&u.includes("text/event-stream")||(O=!1),!d.ok)throw new Error(d.status+d.statusText)},onmessage:d=>{if(O&&typeof d.data=="string"&&d.data.charAt(0)==="{"){const u=JSON.parse(d.data);if(u&&u.success.toString()==="true"){if(u.stop_reason==="max_token"){i.stream=!1,t().updateMessage(l,g,C=>{C.stream=!1,C.text=i.text.concat(`
 > ${u.stop_reason}`)});return}i.stream=!0,i.text=i.text.startsWith("...")?i.text.slice(3).concat(u.msg):i.text.concat(u.msg),K(`chat-wrapper-${p.id}`),t().updateMessage(l,g,C=>{C.text=i.text,C.stream=i.stream})}if(u&&u.success==="false")throw new Error(u.msg)}},onerror(d){console.log(`[BOT] request error from ${s}: 
`,d),i.stream=!1,t().updateMessage(l,g,C=>{C.stream=i.stream,C.text=d.message.includes("Please reduce the length of the messages.")?d.message:`${i.text}
 > Oops... Something went wrong (°⌓°)`,C.isError=!0});const u=t().controller;throw delete u[r],e(()=>({controller:{...u}})),d},onclose(){i.stream=!1,t().updateMessage(l,g,u=>{u.stream=i.stream});const d=t().controller;delete d[r],e(()=>({controller:{...d}})),console.log("[BOT] answering closed. ")}});else try{const d=await Cs(W,Le(a,s,o,_),A.signal);if(d.msgCode==="10000"&&d.data){if(a==="google"){if(!d.data.candidates&&d.data.filters){i.stream=!1,t().updateMessage(l,g,u=>{u.stream=i.stream,u.text=`${i.text}
 > Oops... Something went wrong (°⌓°)`,u.isError=!0});return}i.text=(F=d.data.candidates[0])==null?void 0:F.content}else a==="claude"?i.text=d.data.completion:i.text=d.data;i.stream=!1,t().updateMessage(l,g,u=>{u.text=i.text,u.stream=i.stream}),K(`chat-wrapper-${p.id}`)}else i.stream=!1,t().updateMessage(l,g,u=>{u.stream=i.stream,u.text=`${i.text}
 > Oops... Something went wrong (°⌓°)`,u.isError=!0})}catch{t().updateMessage(l,g,u=>{u.stream=!1,u.text=`${i.text}
 > Oops... Something went wrong (°⌓°)`,u.isError=!0})}finally{const d=t().controller;delete d[r],e(()=>({controller:{...d}}))}},updateMessage(o,a,s){const c=t().sessions[o].messages[a];c.date=new Date().toLocaleString(),s(c),e(()=>({sessions:t().sessions}))},lastMessage(o){const a=t().sessions.find(r=>r.name===o);if(!a)return R({text:""});const s=a==null?void 0:a.messages;return Array.isArray(s)&&s.length>0?s.slice(-1)[0]:R({text:""})},lastUserMessage(o){const a=t().sessions.find(r=>r.name===o);if(!a)return R({text:""});const s=[...a.messages];return Array.isArray(s)&&s.length>0?s.reverse().find(r=>r.sender_type==="user"):R({text:""})},lastBotMessage(o){const a=t().sessions.find(r=>r.name===o);if(!a)return R({text:""});const s=[...a.messages];return Array.isArray(s)&&s.length>0?s.reverse().find(r=>r.sender_type==="bot"&&r.model!=="admin"):R({text:""})},updateSession(o,a){const s=t().sessions;let r=s[o];r={...r,...a},s[o]=r,e(()=>({sessions:s}))},closeController(o){const a=t().controller,s=a==null?void 0:a[o];if(s){s.abort&&s.abort(),delete a[o],e(()=>({controller:{...a}}));const r=t().sessions.findIndex(l=>l.name===o),c=t().sessions[r];t().updateMessage(r,c.messages.length-1,l=>{l.stream=!1,l.text=l.text.concat(`
 > Request canceled。`)}),K(`chat-wrapper-${c.id}`)}},clearAllData(){localStorage.removeItem("chat"),e(()=>({sessions:[H({name:I})]})),window.location.reload()}}),{name:"chat",version:2,migrate(e,t){const o=e,a=JSON.parse(JSON.stringify(o));if(t<2){a.globalId=0,a.sessions=[];const s=o.sessions;for(const r of s){const c=H({name:D});c.id=r.id,c.name=r.name,c.clearContextIndex=r.clearContextIndex,c.messages=[...r.messages],a.sessions.push(c)}}return a}})),me=ce()(ie((e,t)=>({chosenBotNames:[I],currentBot:I,updateCurrentBot:o=>{e({currentBot:o})},addBot:o=>{const{chosenBotNames:a}=t();a.includes(o)||e({chosenBotNames:[...a,o]})},removeBot:o=>{const{chosenBotNames:a}=t();e({chosenBotNames:a.filter(s=>s!==o)})},getCurrentBot:()=>t().currentBot||I,clearBots:()=>{localStorage.removeItem("bot"),e({chosenBotNames:[I]})}}),{name:"bot",version:2,migrate(e,t){const a=JSON.parse(e);return t<2&&(a.chosenBotNames=[I],a.currentBot=I),a}})),Ls=()=>{const e=M();return n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsxs("g",{clipPath:"url(#clip0_50_304)",children:[n.jsx("mask",{id:"mask0_50_304",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"20",height:"20",children:n.jsx("path",{d:"M20 0H0V20H20V0Z",fill:"white"})}),n.jsxs("g",{mask:"url(#mask0_50_304)",children:[n.jsx("path",{d:"M18.659 10.0709L13.2991 2.95807L5.8894 8.54167L11.4582 15.4167L12.8564 14.4435L18.659 10.0709Z",stroke:e.theme==="light"?"black":"white",strokeWidth:"1.66667",strokeLinejoin:"round"}),n.jsx("path",{d:"M11.4582 15.4167L9.85879 16.6978L5.45733 16.6975L4.37379 15.2596L1.69385 11.7032L6.0415 8.427",stroke:e.theme==="light"?"black":"white",strokeWidth:"1.66667",strokeLinejoin:"round"}),n.jsx("path",{d:"M5.50244 16.6967H18.569",stroke:e.theme==="light"?"black":"white",strokeWidth:"1.66667",strokeLinecap:"round"})]})]}),n.jsx("defs",{children:n.jsx("clipPath",{id:"clip0_50_304",children:n.jsx("rect",{width:"20",height:"20",fill:"white"})})})]})},js=()=>{const e=M();return n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.33301 2.46417H11.6663V5.79752H17.9163V9.13086H2.08301V5.79752H8.33301V2.46417Z",stroke:e.theme==="light"?"black":"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M3.33301 16.6667H16.6663V9.16669H3.33301V16.6667Z",stroke:e.theme==="light"?"black":"white",strokeWidth:"1.66667",strokeLinejoin:"round"}),n.jsx("path",{d:"M6.66699 16.624V14.1309",stroke:e.theme==="light"?"black":"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M10 16.624V14.124",stroke:e.theme==="light"?"black":"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M13.333 16.624V14.1309",stroke:e.theme==="light"?"black":"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M5 16.6667H15",stroke:e.theme==="light"?"black":"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]})},Rs=()=>{const e=M();return n.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M15.3033 15.3033C13.9461 16.6605 12.0711 17.5 10 17.5C5.85787 17.5 2.5 14.1421 2.5 10C2.5 5.85787 5.85787 2.5 10 2.5C12.0711 2.5 13.9461 3.33947 15.3033 4.69671C15.9941 5.38754 17.5 7.08333 17.5 7.08333",stroke:e.theme==="light"?"black":"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M17.5 3.33331V7.08331H13.75",stroke:e.theme==="light"?"black":"white",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]})},Is=e=>{var w;const{models:t,streamModels:o}=React.useContext(q),{modelName:a}=e,s=X(),{sessions:r}=s,c=r.find(i=>i.name===a),l=me(),p=()=>{const i=s.sessions.findIndex(y=>y.name===a),A=s.sessions[i];s.lastMessage(A.name).sender_type!==ne&&(A.clearContextIndex=A.messages.length||0,s.updateSession(i,A),s.onNewMessage(R({model:"admin",text:"",sender_type:ne,id:Date.now(),stream:!1,isError:!0}),i),K(`chat-wrapper-${A.id}`))},x=()=>{const i=r.findIndex(A=>A.name===a);s.updateSession(i,{messages:[],clearContextIndex:0})},_=()=>{s.closeController(a)},g=()=>{var b;const i=c.name===D?l.currentBot:s.lastBotMessage(c.name).model,A=((b=t[i])==null?void 0:b.provider)||"",y=o.includes(i);s.retry(c.name,A,i,y)};return React.useEffect(()=>()=>{_()},[]),n.jsxs("div",{className:U.homeOperation,children:[s.lastMessage(a).stream&&n.jsx(G,{title:"Stop generating",className:U.opBtn,children:n.jsx("div",{...B(_),children:n.jsx("img",{src:`${Bt}stop.png`,className:U.opImg,alt:"stop"},"stop_generate")})}),!!((w=c.messages)!=null&&w.length)&&!s.lastMessage(a).stream&&n.jsxs(n.Fragment,{children:[n.jsx(G,{title:"Clear context",className:U.opBtn,children:n.jsx("div",{...B(p),children:n.jsx(Ls,{})})}),n.jsx(G,{title:"Clear message history",className:U.opBtn,children:n.jsx("div",{...B(x),children:n.jsx(js,{})})}),n.jsx(G,{title:"Regenerate",className:U.opBtn,children:n.jsx("div",{...B(g),children:n.jsx(Rs,{})})})]})]})},Es="_hidden-scrollbar_61gam_1",Ms="_styled-scrollbar_61gam_11",Bs="_sessions_61gam_30",Ns="_preview-sessions_61gam_39",Ts="_session-wrapper_61gam_51",Os="_chat_61gam_56",Ps="_empty-chat_61gam_74",Us="_empty-chat-text_61gam_81",Hs="_message_61gam_96",$s="_message-wrapper_61gam_102",zs="_chat-user-title_61gam_162",Ds="_chat-bot-title_61gam_170",qs="_message-item_61gam_178",Ws="_stream-wrapper_61gam_183",Ks="_glow_61gam_1",Vs="_chat-user_61gam_162",Js="_chat-bot_61gam_170",Ys="_chat-operations_61gam_196",Fs="_chat-date_61gam_207",Gs="_chat-checkbox_61gam_214",Xs="_model-avatar_61gam_257",Qs="_model-avatar-img_61gam_270",Zs="_model-name_61gam_273",eo="_copy-code-btn_61gam_279",to="_clear-line_61gam_292",so="_markdown-block_61gam_314",oo="_mario_61gam_1",ao="_running-mario_61gam_1",v={"hidden-scrollbar":"_hidden-scrollbar_61gam_1",hiddenScrollbar:Es,"styled-scrollbar":"_styled-scrollbar_61gam_11",styledScrollbar:Ms,sessions:Bs,"preview-sessions":"_preview-sessions_61gam_39",previewSessions:Ns,"session-wrapper":"_session-wrapper_61gam_51",sessionWrapper:Ts,chat:Os,"empty-chat":"_empty-chat_61gam_74",emptyChat:Ps,"empty-chat-text":"_empty-chat-text_61gam_81",emptyChatText:Us,message:Hs,"message-wrapper":"_message-wrapper_61gam_102",messageWrapper:$s,"chat-user-title":"_chat-user-title_61gam_162",chatUserTitle:zs,"chat-bot-title":"_chat-bot-title_61gam_170",chatBotTitle:Ds,"message-item":"_message-item_61gam_178",messageItem:qs,"stream-wrapper":"_stream-wrapper_61gam_183",streamWrapper:Ws,glow:Ks,"chat-user":"_chat-user_61gam_162",chatUser:Vs,"chat-bot":"_chat-bot_61gam_170",chatBot:Js,"chat-operations":"_chat-operations_61gam_196",chatOperations:Ys,"chat-date":"_chat-date_61gam_207",chatDate:Fs,"chat-checkbox":"_chat-checkbox_61gam_214",chatCheckbox:Gs,"model-avatar":"_model-avatar_61gam_257",modelAvatar:Xs,"model-avatar-img":"_model-avatar-img_61gam_270",modelAvatarImg:Qs,"model-name":"_model-name_61gam_273",modelName:Zs,"copy-code-btn":"_copy-code-btn_61gam_279",copyCodeBtn:eo,"clear-line":"_clear-line_61gam_292",clearLine:to,"markdown-block":"_markdown-block_61gam_314",markdownBlock:so,mario:oo,"running-mario":"_running-mario_61gam_1",runningMario:ao};async function no(e){try{await navigator.clipboard.writeText(e),E.success("copied!")}catch{const o=document.createElement("textarea");o.value=e,document.body.appendChild(o),o.focus(),o.select();try{document.execCommand("copy"),E.success("copied!")}catch{E.error("copy failed")}document.body.removeChild(o)}}function ro(e){const t=React.useRef(null),[o,a]=React.useState(!1),s=()=>{if(t.current){const r=t.current.innerText;no(r)}};return n.jsx("pre",{ref:t,children:n.jsxs("div",{onMouseOver:()=>a(!0),onFocus:()=>a(!0),onMouseLeave:()=>a(!1),children:[o&&n.jsx("span",{className:v.copyCodeBtn,...B(s)}),e.children]})})}const co=()=>n.jsx("div",{id:v.mario});function io(e){const{models:t}=React.useContext(q),[o,a]=React.useState(!1),{message:s}=e,r=s.sender_type==="user"||s.provider==="user",c=s.sender_type==="admin"||s.provider==="admin",l=s.sender_type===ne,p=ae(v.messageWrapper,r?v.chatUser:v.chatBot),x=M(),g=(()=>r?Ce:c?Kt:t[s.model])();return!l&&!g?null:n.jsx("div",{className:v.message,style:{justifyContent:r?"flex-end":"flex-start"},onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:l?n.jsx("div",{className:v.clearLine,children:"Context cleared"}):n.jsxs(n.Fragment,{children:[!oe&&!r&&n.jsx("div",{style:{background:g.webui.background},className:v.modelAvatar,children:n.jsx("img",{src:g.webui.avatar,className:v.modelAvatarImg,alt:g.model})}),n.jsxs("div",{title:s.model||x.username,className:p,style:{borderRadius:r?"10px 1px 10px 10px":"1px 10px 10px 10px"},children:[s.stream&&n.jsx(co,{}),!r&&n.jsx("div",{className:v.chatOperations,children:`${g.provider} - ${s.model}`}),n.jsx(yt,{className:v.markdownBlock,remarkPlugins:[wt,bt,kt],rehypePlugins:[St],components:{code:Ot,pre:ro},children:s.text}),o&&n.jsx("div",{className:v.chatDate,style:{right:r?"0":"auto",left:r?"auto":"0"},children:s.date})]}),!oe&&r&&n.jsx("div",{style:{color:Ce.background,marginRight:2},className:v.modelAvatar,children:"ME"})]})})}function lo(e){const{session:t}=e;return React.useEffect(()=>{Be(`chat-wrapper-${t.id}`)},[t.messages.length]),n.jsxs("div",{className:v.sessionWrapper,children:[n.jsxs("div",{className:v.chat,id:`chat-wrapper-${t.id}`,children:[Array.isArray(t.messages)&&t.messages.length===0&&n.jsx("div",{className:v.emptyChat,children:n.jsxs("div",{className:v.emptyChatText,children:[n.jsx("span",{children:"Shortcuts"}),n.jsx("br",{}),n.jsx("br",{}),n.jsx("code",{children:"#"})," - Change chat mode"]})}),Array.isArray(t.messages)&&t.messages.map((o,a)=>n.jsx("div",{className:v.messageItem,children:n.jsx(io,{message:o,sessionInfo:{id:t.id,name:t.name,bot:t.bot}},o.id)},o.id))]}),n.jsx(Is,{modelName:t.name})]})}const mo=()=>{const{models:e}=React.useContext(q),t=X(),o=M(),{sessions:a}=t;return n.jsx("div",{className:v.sessions,children:Array.isArray(a)&&a.map(s=>o.mode===z&&s.name!==D||o.mode===J&&s.name===D||!s.isShow?null:o.mode===J&&!e[s.name]?(t.removeSession(s.name),null):n.jsx(lo,{session:s},s.id))})},uo="_home-models_1vuuq_1",go="_model-avatar_1vuuq_10",ho="_model-avatar-img_1vuuq_24",po="_model-chosen_1vuuq_29",_o="_model-name_1vuuq_35",fo="_model-avatar-chosen_1vuuq_43",V={"home-models":"_home-models_1vuuq_1",homeModels:uo,"model-avatar":"_model-avatar_1vuuq_10",modelAvatar:go,"model-avatar-img":"_model-avatar-img_1vuuq_24",modelAvatarImg:ho,"model-chosen":"_model-chosen_1vuuq_29",modelChosen:po,"model-name":"_model-name_1vuuq_35",modelName:_o,"model-avatar-chosen":"_model-avatar-chosen_1vuuq_43",modelAvatarChosen:fo},He=()=>{document.querySelectorAll(".scale-avatar").forEach(e=>{e.style.setProperty("--scale","1")})};function xo(e){const t=React.useRef(null),o=M(),a=X(),s=me(),[r,c]=React.useState(!1),l=o.mode===J&&s.chosenBotNames.includes(e.model.model)||o.mode===z&&s.currentBot===e.model.model;function p(_){if(o.mode===J)if(s.chosenBotNames.includes(_)){if(s.chosenBotNames.length===1){E.warning("At least one model should be selected");return}s.removeBot(_),a.removeSession(_)}else s.chosenBotNames.length===Mt?E.warning("No more models can be selected"):(s.addBot(_),a.newSession(_));else s.updateCurrentBot(_)}const x=_=>{let g=_.target;_.target!==t.current&&(g=_.target.parentNode);const w=g.getBoundingClientRect(),i=Math.abs(_.clientX-w.left)/w.width,A=g.previousElementSibling||null,y=g.nextElementSibling||null,b=.4;He(),A&&A.style.setProperty("--scale",`${1+b*Math.abs(i-1)}`),g.style.setProperty("--scale",`${1+b}`),y&&y.style.setProperty("--scale",`${1+b*i}`),_.stopPropagation()};return n.jsxs("div",{ref:t,className:`${V.modelAvatar} ${l&&V.modelAvatarChosen} scale-avatar`,onMouseMove:x,onMouseOver:()=>c(!0),onMouseLeave:()=>c(!1),...B(()=>p(e.model.model)),onFocus:()=>c(!0),children:[n.jsx("img",{src:e.model.webui.avatar,className:V.modelAvatarImg,alt:e.model.provider}),(r||l)&&n.jsxs("div",{className:V.modelName,children:["@",e.model.model||e.model.provider]})]})}const vo=()=>{const{models:e}=React.useContext(q);return n.jsx("div",{className:V.homeModels,onMouseLeave:He,children:e&&Object.keys(e).map(t=>n.jsx(xo,{model:{model:t,...e[t]}},t))})},te=[{name:"Serial Mode",title:"Toggle between serial and parallel mode",description:"Serial mode will send your message to one bot each time."},{name:"Parallel Mode",title:"Toggle between serial and parallel mode",description:"Parallel mode will send your message to all bots at once."}],Ao=""+new URL("send-5bb2204f.png",import.meta.url).href,yo="_home-prompt-wrapper_1o1fz_1",wo="_prompt_1o1fz_29",bo="_prompt-trash_1o1fz_36",ko="_prompt-operation_1o1fz_40",So="_chosen-prompt_1o1fz_45",Co="_model-item_1o1fz_49",Lo="_model-avatar_1o1fz_54",jo="_home-input-wrapper_1o1fz_60",Ro="_prompt-editor_1o1fz_78",Io="_model-name-list_1o1fz_85",Eo="_model-name_1o1fz_85",Mo="_empty-editor_1o1fz_97",Bo="_backup-textarea_1o1fz_144",No="_submit-btn_1o1fz_150",To="_prompt-clip_1o1fz_154",L={"home-prompt-wrapper":"_home-prompt-wrapper_1o1fz_1",homePromptWrapper:yo,prompt:wo,"prompt-trash":"_prompt-trash_1o1fz_36",promptTrash:bo,"prompt-operation":"_prompt-operation_1o1fz_40",promptOperation:ko,"chosen-prompt":"_chosen-prompt_1o1fz_45",chosenPrompt:So,"model-item":"_model-item_1o1fz_49",modelItem:Co,"model-avatar":"_model-avatar_1o1fz_54",modelAvatar:Lo,"home-input-wrapper":"_home-input-wrapper_1o1fz_60",homeInputWrapper:jo,"prompt-editor":"_prompt-editor_1o1fz_78",promptEditor:Ro,"model-name-list":"_model-name-list_1o1fz_85",modelNameList:Io,"model-name":"_model-name_1o1fz_85",modelName:Eo,"empty-editor":"_empty-editor_1o1fz_97",emptyEditor:Mo,"backup-textarea":"_backup-textarea_1o1fz_144",backupTextarea:Bo,"submit-btn":"_submit-btn_1o1fz_150",submitBtn:No,"prompt-clip":"_prompt-clip_1o1fz_154",promptClip:To},se={default:"Press # to toggle chat mode, and ENTER to send",google:"Google does not support Chinese"},Oo=()=>{const{models:e,streamModels:t}=React.useContext(q),o=X(),a=me(),s=M(),r=React.useRef(null),c=React.useRef(null),[l,p]=React.useState(te),[x,_]=React.useState(!1),[g,w]=React.useState(""),[i,A]=React.useState(null),[y,b]=React.useState(0),[W,O]=React.useState(""),[F,d]=React.useState(se.default),[u,C]=React.useState(""),[$e,ze]=React.useState(0),[Q,de]=React.useState(!1),[De,ue]=React.useState(!0),ge=h=>(h=h.replace(/<span class="modelName">.*?<\/span>/g,""),c.current.innerHTML=h,c.current.innerText||""),P=(h,f=!0)=>{if(h===u)return;const k={allowedTags:["b","i","a","p","text","br","div","span","img"],allowedAttributes:{a:["href"],span:["class","id"],img:["src"],div:["class","id"]}};if(f){const Z=Dt(r.current);ze(Z)}C(Ct(h,k))},he=h=>{h.name==="Serial Mode"?(s.updateMode(z),E.success("Change to serial mode!"),P("")):h.name==="Parallel Mode"?(s.updateMode(J),E.success("Change to parallel mode!"),P("")):(A(h),P("")),w(""),_(!1),O("")},pe=()=>{var h;if(g.trim())if(w(""),P(""),s.mode===z){const f=(h=e[a.currentBot])==null?void 0:h.provider,k=t.includes(a.currentBot);o.onUserInput(g,f,a.currentBot,D,k)}else a.chosenBotNames.forEach(f=>{var _e;const k=(_e=e[f])==null?void 0:_e.provider,Z=t.includes(f);o.onUserInput(g,k,f,f,Z)})},qe=h=>{const f=h.key;if(!Q){if(f==="Enter"&&!h.shiftKey){if(h.preventDefault(),g.trim()){if(x){he(l[y]);return}pe()}ue(!0)}if(f==="#"&&!x&&_(!0),x){const k=l.length-1;f==="ArrowUp"?(b(y===0?k:y-1),h.preventDefault()):f==="ArrowDown"?(b(y===k?0:y+1),h.preventDefault()):f==="Backspace"&&g.slice(-1)==="#"&&(_(!1),O(""))}x&&f==="Escape"&&_(!1)}},We=h=>{if(Q)return;const f=h.target;w(ge(f.innerHTML));const k=f.innerHTML;P(k)},Ke=h=>{if(ue(!h.target.textContent.length),Q)return;const f=h.target;w(ge(f.innerHTML));const k=f.innerHTML;P(k)};return React.useEffect(()=>{const h=te.filter(f=>f.name.toLowerCase().includes(W.toLowerCase()));b(0),h.length===0?(_(!1),p(te)):p(h)},[W]),React.useEffect(()=>{x&&O(g.split("#").slice(-1)[0])},[g]),React.useEffect(()=>{d(i?i.description:se[a.currentBot]||se.default)},[i,a.currentBot]),React.useLayoutEffect(()=>{r.current&&qt(r.current,$e)},[u]),n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:L.homeInputWrapper,children:[x&&n.jsx("div",{className:L.homePromptWrapper,children:l.map((h,f)=>n.jsx("div",{className:ae(L.prompt,{[L.chosenPrompt]:f===y}),...B(()=>he(h)),children:n.jsx("div",{className:L.modelItem,children:h.name})},h.name))}),i&&n.jsxs("div",{className:L.modelName,children:["#",i.name]}),n.jsx("div",{contentEditable:!0,spellCheck:!0,ref:r,id:"prompt-textarea",className:ae(L.promptEditor,{[L.emptyEditor]:De}),"data-text":F,onKeyDown:qe,onKeyUp:We,onCompositionStart:()=>de(!0),onInput:Ke,onCompositionEnd:()=>de(!1),dangerouslySetInnerHTML:{__html:u}}),n.jsx("img",{className:L.promptClip,src:Ao,alt:"send-message",...B(pe)})]}),n.jsx("div",{ref:c,style:{opacity:0,display:"hidden",position:"fixed",fontSize:0}})]})},Po="_loading-icon_1yjma_1",Uo="_aoe_1yjma_1",Ho="_home-loading_1yjma_6",je={"loading-icon":"_loading-icon_1yjma_1",loadingIcon:Po,aoe:Uo,"home-loading":"_home-loading_1yjma_6",homeLoading:Ho},$o=()=>n.jsx("div",{className:je.homeLoading,children:n.jsx("div",{className:je.loadingIcon})}),zo="_home_1tmut_1",Do="_home-chats_1tmut_5",qo="_homeModal_1tmut_10",Re={home:zo,"home-chats":"_home-chats_1tmut_5",homeChats:Do,homeModal:qo},Wo=()=>{const[e,t]=React.useState(!1);return React.useEffect(()=>{setTimeout(()=>{t(!0)},1500)},[]),e},Ko=()=>Wo()?n.jsxs("div",{className:Re.home,children:[n.jsx("div",{className:Re.homeChats,children:n.jsx(mo,{})}),n.jsx(Oo,{}),n.jsx(vo,{})]}):n.jsx($o,{}),Vo=()=>n.jsx(Lt,{children:n.jsx(jt,{children:n.jsx(Rt,{path:"/",element:n.jsx(Ko,{})})})}),Jo=({children:e})=>{const[t,o]=React.useState(Vt),[a,s]=React.useState(Nt),[r,c]=React.useState(!0);React.useEffect(()=>{c(!0),fetch("/config/json").then(p=>p.json()).then(p=>{if(p&&typeof p.models=="object"){const x=p.models,_=[];o(x),Object.keys(x).forEach(g=>{x[g].webui.isStream!==!1&&!_.includes(g)&&_.push(g)}),_.length>0&&s(_)}}).catch(p=>{console.log(p)}).finally(()=>{c(!1)})},[]);const l=React.useMemo(()=>({models:t,streamModels:a}),[t]);return n.jsx(q.Provider,{value:l,children:!r&&e})},Yo={welcome:"欢迎，感恩",hello:"嗨",hi:"你好",loading:"Loading"},Fo={...Yo},Go={welcome:"Welcome, grateful",hello:"Hi",hi:"Hello",loading:"Loading"},Xo={...Go},Qo={"zh-CN":Fo,"en-US":Xo};function Zo(e){}const ea={locale:Y(),setLocale:Zo},ta=React.createContext(ea),sa=({children:e})=>{const[t,o]=React.useState(Y()),a=React.useCallback(r=>{o(r),Ht(r)},[]),s=React.useMemo(()=>({locale:t,setLocale:a}),[t,a]);return n.jsx(It,{locale:t,messages:Qo[t],children:n.jsx(ta.Provider,{value:s,children:e})})},oa=""+new URL("AOE-b98456c3.svg",import.meta.url).href,aa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEKSURBVHgBtVWLDYIwEH1RB2CEbuAKbqAbgBOoE+AGjIAboRPABrIBcnLE2vRqD9OXvJCUd196xxo6FCO3Ix9IhIEZjRUSww2QYWqDEfQd0weyPfBTBAmoBW0giA+Gbcg2DwkzS1hbZ1frnNjwe8OaSpOYYYMdpnY9Lccu6d2ZtTV0Vb8Nh0jmUML8yNxXSaYJUCuczyyhQLMgQCs5KzyiYSGB79uWJ59kCXYWsWx8jqQKbtDjrhHTldNeUwMlCkWAk+TE1yKDaQ66kZeRPWT0nAj9gCpE7qH5A1dOQHs2SFPiM721dR6c6AL/r+t9SJixQMqihTyxBtPSU+0kF/bERiH5JG+gwxHKCl5qY6X0Tnl2NgAAAABJRU5ErkJggg==",na="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFkSURBVHgB7VTLcYNADNViF+CL+dxIB6QDXEHSQZxK7HSQDhJ34A4gHdAB3PgMBxfAJ08Tx7NZWDA4R7+ZndFqJT2BPkR3jECMGaRp6huG8dK2rY+rixNCfnUcJ6ErIAYCu0KID4j+xViIvWVZbzQBvQRFUXjIMsBZ3RKcsVQVnLkaHPIJ50Az0CFApn+Cn3WhbdsJzYAhX/I8f6afQqqkEc2EodyfNHYu/ROBp7HT6TvgGmoJ8O97A7Ge54GuAGZmpyUYAs+Emp0KvO+RzHaIING7Ew9eUJZlp05xHK+yLHvH+05tiKWSZahmoJJUVXVEsIgD8XyciX2ptfUETdMcYLylcXhyvSBfHhaLxVE27KwKZBeQtH8mIsFAPsiKTpF5U+IrTjQR7APfjarvEPAahvFmCgnbsk/fCu9tU9M0I9TjkYa76hch27JPL/mYN7dlXde8o+TC8leGGKrP9Xr9RXfcgm+bjqOGex62UQAAAABJRU5ErkJggg==",ra="_header_1iqh2_1",ca="_header-title_1iqh2_11",ia="_header-operation_1iqh2_22",la="_light-theme_1iqh2_25",ma="_dark-theme_1iqh2_36",da="_animate-light_1iqh2_47",ua="_animate-dark_1iqh2_51",j={header:ra,"header-title":"_header-title_1iqh2_11",headerTitle:ca,"header-operation":"_header-operation_1iqh2_22",headerOperation:ia,"light-theme":"_light-theme_1iqh2_25",lightTheme:la,"dark-theme":"_dark-theme_1iqh2_36",darkTheme:ma,"animate-light":"_animate-light_1iqh2_47",animateLight:da,"animate-dark":"_animate-dark_1iqh2_51",animateDark:ua},ga=()=>{const e=React.useRef(null),t=React.useRef(null),[o,a]=React.useState(!1),s=M(),r=()=>{window.location.href="/"},c=(l="")=>{setTimeout(()=>{s.updateTheme(l||s.theme==="light"?"dark":"light")},200)};return React.useEffect(()=>{},[s.theme]),React.useEffect(()=>{document.body.setAttribute("data-theme",s.theme),e.current&&t.current&&(s.theme==="light"?(e.current.classList.remove(j.animateLight),t.current.classList.remove(j.animateDark)):s.theme==="dark"&&(e.current.classList.add(j.animateLight),t.current.classList.add(j.animateDark)))},[s.theme,o]),n.jsxs("div",{className:j.header,children:[n.jsx("div",{className:j.headerTitle,onClick:r,children:n.jsx("img",{src:oa,alt:"AOE_LOGO"})}),n.jsxs("div",{className:j.headerOperation,onClick:()=>c(),children:[n.jsx("span",{ref:e,className:j.lightTheme,children:n.jsx("img",{src:aa,alt:"sun",onLoad:()=>a(!o)})}),n.jsx("span",{ref:t,className:j.darkTheme,children:n.jsx("img",{src:na,alt:"moon",onLoad:()=>a(!o)})})]})]})};const ha=()=>n.jsx(Jo,{children:n.jsxs(sa,{children:[n.jsx(ga,{}),n.jsx(Vo,{})]})});Et.createRoot(document.getElementById("root")).render(n.jsx(ha,{}));
